# 🚀 DOI Tool - 進捗バー付きバージョン

Scopus CSVファイルから美しいMarkdownファイルを生成する進捗バー付きDOI処理ツールです！

## ✨ 新機能: 進捗バー付きバージョン

### 🎯 進捗バー付きコマンドライン版（推奨）
- **美しいUnicode進捗バー**: `█████████░░░ 75.0%`
- **リアルタイム進捗表示**: 処理状況を視覚的に確認
- **ステップ別進捗**: 各処理段階の詳細な進捗
- **スピナーアニメーション**: ファイル準備時の動的表示
- **tkinter不要**: どのmacOS環境でも動作

### 🖥️ 進捗バー付きGUI版
- **2つの進捗バー**: 全体進捗 + ステップ別進捗
- **リアルタイム更新**: 処理状況のリアルタイム表示
- **停止ボタン**: 処理中断機能
- **視覚的フィードバック**: カラフルな進捗表示

## 🚀 今すぐ開始

### 1. 進捗バー付きバージョンを起動
```bash
cd /Users/shigenoburyuto/Documents/GitHub/DOI_tool_ver1/app_build
chmod +x quick_progress.sh
./quick_progress.sh
```

### 2. 推奨選択肢
- **初回利用者** → **1** (進捗バー付きコマンドライン版)
- **GUI好みの方** → **2** (進捗バー付きGUI版)

## 📊 進捗表示の種類

### コマンドライン版の進捗表示:
```
🔄 全体進捗 [████████████████████░░░░░░░░░░] 75.0% (3/4) 02:35

💬 ステップ 3/4: 参考文献解決実行中...
🔄 ステップ3 [██████████████░░░░░░] 70.0% (35/50) 01:23

✅ 参考文献解決完了
```

### GUI版の進捗表示:
- **全体進捗バー**: 4つのステップの総合進捗
- **ステップ進捗バー**: 現在実行中のステップの詳細進捗  
- **ステータステキスト**: 現在の処理内容を文字で表示
- **停止ボタン**: いつでも処理を中断可能

## 🔧 利用可能な実行方法

| 方法 | 特徴 | 推奨度 | tkinter要否 |
|------|------|--------|-------------|
| 進捗バー付きCLI | 美しい進捗表示、確実動作 | ⭐⭐⭐ | 不要 |
| 進捗バー付きGUI | リッチなGUI、停止機能 | ⭐⭐ | 必要 |
| シンプル実行版 | 最小限機能 | ⭐ | 不要 |
| 緊急時実行 | トラブル時用 | - | 不要 |

## 📝 処理ステップと進捗配分

1. **CSVファイル統合** (15%) - 複数CSVを結合
2. **DOI情報取得** (40%) - Crossref APIから詳細情報取得
3. **参考文献解決** (35%) - 引用文献のDOI解決
4. **要約追加** (10%) - 最終Markdownファイル生成

## 🎨 進捗表示の詳細

### Unicode進捗バー
```
█ = 完了部分（濃い青色）
░ = 未完了部分（薄い灰色）
```

### スピナーアニメーション
```
⠋ ⠙ ⠹ ⠸ ⠼ ⠴ ⠦ ⠧ ⠇ ⠏
```

### カラーコード（ターミナル）
- **青色**: 全体進捗バー
- **緑色**: ステップ進捗バー
- **黄色**: 警告メッセージ
- **赤色**: エラーメッセージ

## 🔄 実行例

```bash
# 起動
./quick_progress.sh

# 選択: 1 (進捗バー付きコマンドライン版)

╔══════════════════════════════════════════════════════════════╗
║                     🔬 DOI処理ツール                          ║
║                   進捗バー付きバージョン                        ║
║                                                              ║
║     Scopus CSVファイル → Markdownファイル生成                   ║
╚══════════════════════════════════════════════════════════════╝

📁 作業ディレクトリの設定
─────────────────────────────────────────────────────────────
現在: /Users/username/Desktop
新しいディレクトリパス（Enter=現在のまま, q=戻る）: /path/to/csv/files

📄 CSVファイル確認
─────────────────────────────────────────────────────────────
✅ 3 個のファイルが見つかりました:

  📊  1. scopus_export_1.csv
      └──    1250.3 KB
  📋  2. scopus_export_2.csv  
      └──     890.7 KB
  📄  3. scopus_export_3.csv
      └──     156.2 KB

📈 合計サイズ: 2297.2 KB

🚀 処理実行
─────────────────────────────────────────────────────────────
処理を開始しますか？ (y/N): y

============================================================
🔄 DOI処理パイプライン開始
============================================================

📋 ステップ 1/4: CSVファイル統合
────────────────────────────────────────
🔄 ステップ1 [████████████████████████████████████████] 100% (15/15)
✅ CSVファイル統合完了

📋 ステップ 2/4: DOI情報取得  
────────────────────────────────────────
🔄 ステップ2 [██████████████████████░░░░░░░░░░░░░░░░░░] 55% (22/40)
💬 DOI情報取得実行中...
```

## 🛠️ システム要件

- macOS 10.14以降
- Python 3.8以降
- インターネット接続
- ターミナルアプリケーション

## 📋 使用手順

1. **起動**: `./quick_progress.sh`
2. **方法選択**: 進捗バー付きコマンドライン版（推奨）
3. **作業ディレクトリ設定**: CSVファイルがあるフォルダを指定
4. **ファイル確認**: 処理対象のCSVファイルを確認
5. **処理開始**: 進捗バーを見ながら処理完了を待機
6. **結果確認**: md_folderにMarkdownファイルが生成

## 🎉 出力例

処理完了後：
```
🎉 処理が正常に完了しました！
============================================================

📝 生成されたファイル: 127 個
📁 保存場所: /Users/username/Desktop/csv_data/md_folder

📋 生成ファイル例:
  1. Machine_Learning_Applications_in_Healthcare.md
  2. Quantum_Computing_Recent_Advances.md
  3. Climate_Change_Impact_Assessment.md
  4. Artificial_Intelligence_Ethics.md
  5. Blockchain_Technology_Overview.md
  ... 他 122 ファイル

結果フォルダを開きますか？ (y/N): y
✅ フォルダを開きました
```

## 🚨 トラブルシューティング

### 進捗が止まった場合
- **GUI版**: 停止ボタンをクリック
- **CLI版**: `Ctrl+C` で中断

### tkinterエラーが発生する場合
```bash
./quick_progress.sh → 1を選択（CLI版使用）
```

### 処理が遅い場合
- DOI数が多いと時間がかかります
- インターネット接続を確認
- 進捗バーで残り時間を推定

---

**🎯 進捗バーで処理状況を確認しながら、効率的な文献管理を始めましょう！**
