# 🎯 DOI Tool - Finderライク ファイルブラウザGUI

DOI Tool に新しいFinderライクなファイルブラウザGUIが統合されました！

## 🌟 新機能ハイライト

### 📁 Finderライクなブラウザ
- **フォルダナビゲーション**: 戻る/上へ/ホームボタン
- **パス入力**: アドレスバーで直接パス入力
- **クイックアクセス**: よく使うフォルダへのショートカット

### 📄 スマートファイル検出
- **CSV自動識別**: ScopusのCSVファイルを自動で検出・強調
- **詳細表示**: ファイルサイズ・種類・更新日時を表示
- **ソート機能**: 名前・サイズ・種類で並び替え

### 🎛️ 直感的操作
- **マルチ選択**: Ctrl/Cmdクリックで複数CSVファイル選択
- **ダブルクリック**: フォルダを開く・CSVファイルを即座に処理
- **リアルタイム情報**: 選択ファイル数とサイズを即座に表示

### 🚀 ワンクリック処理
- **自動処理**: 選択したCSVファイルを一括処理
- **進捗表示**: リアルタイム処理ログとプログレスバー
- **結果確認**: 処理完了後、結果フォルダを自動で開く

## 🖥️ インターフェース構成

```
┌─────────────────────────────────────────────────────────────┐
│  🔬 DOI処理ツール        Scopus→Markdown変換              │
├─────────────────────────────────────────────────────────────┤
│  ◀ ⬆ 📍 /Users/username/Documents        🏠              │
├──────────────┬──────────────────────────────────────────────┤
│ クイックアクセス │  表示: 詳細 ▼  並び順: 名前 ▼           │
│ 🏠 ホーム      │                                          │
│ 📄 デスクトップ │  📁 folder1                             │
│ 📁 ドキュメント │  📄 data.csv        1.2MB    CSV        │
│ 📥 ダウンロード │  📄 scopus.csv      856KB    CSV        │
│              │  📄 readme.txt      2.1KB    テキスト     │
│ 選択ファイル     │                                          │
│ 📄 2個のCSV   │                                          │
│ 📊 2.1MB      │                                          │
└──────────────┴──────────────────────────────────────────────┤
│  📄 2個のCSVファイル選択     📁フォルダ選択  🚀処理開始   │
└─────────────────────────────────────────────────────────────┘
```

## 🎮 操作方法

### 基本操作
1. **フォルダ移動**: 
   - ナビゲーションボタン (◀⬆🏠) を使用
   - パスバーに直接パスを入力
   - サイドバーのクイックアクセスをクリック

2. **ファイル選択**:
   - CSVファイルをクリックして選択
   - Ctrl/Cmd+クリックで複数選択
   - 選択状況がリアルタイムで表示

3. **処理実行**:
   - CSVファイル選択後「🚀 処理開始」をクリック
   - または CSVファイルをダブルクリック

### 処理フロー

```
📁 フォルダ選択 → 📄 CSVファイル発見 → ✅ ファイル選択 → 🚀 処理開始
                                                           ↓
📝 MD生成完了 ← 📚 参考文献処理 ← 🔗 DOI解決 ← 📊 CSV統合
```

## 🚀 起動方法

### 1. アプリケーションから起動
```bash
# Finderでアプリをダブルクリック
# または
open "/Users/shigenoburyuto/Documents/GitHub/DOI_tool_ver1/app_build/standalone/DOI Tool.app"
```

### 2. ターミナルから直接起動
```bash
cd /Users/shigenoburyuto/Documents/GitHub/DOI_tool_ver1
./test_file_browser.sh
```

### 3. Python直接実行
```bash
python3 gui_file_browser.py
```

## 🔧 セットアップ

新しいファイルブラウザGUIをアプリに統合するには：

```bash
cd /Users/shigenoburyuto/Documents/GitHub/DOI_tool_ver1

# 統合スクリプト実行
chmod +x integrate_file_browser.sh
./integrate_file_browser.sh
```

## 💡 使用例

### 1. 基本的な使用
1. アプリ起動
2. デスクトップフォルダに移動
3. `scopus_export.csv` を選択
4. 「🚀 処理開始」をクリック
5. 処理完了後、結果確認

### 2. 複数ファイル処理
1. Scopusデータフォルダに移動
2. Ctrl+クリックで複数CSVファイル選択
3. 選択情報で「3個のCSVファイル選択」を確認
4. 一括処理実行

### 3. クイックアクセス活用
1. サイドバーの「📥 ダウンロード」をクリック
2. Scopusからダウンロードしたファイルを確認
3. CSVファイルをダブルクリックで即座に処理

## 🎯 処理対象ファイル

以下の形式のCSVファイルに対応：
- **Scopus export**: 論文データベースからのエクスポート
- **必須列**: DOI, Title, Authors, Abstract等
- **文字エンコード**: UTF-8, Shift-JIS, CP932

## 📊 処理結果

処理完了後、以下のファイルが生成されます：

```
作業フォルダ/
├── scopus_combined.csv      # 統合されたCSVファイル
├── JSON_folder/             # DOI情報JSONファイル
│   ├── paper_001.json
│   └── paper_002.json
└── md_folder/               # 生成されたMarkdownファイル
    ├── paper_001.md
    └── paper_002.md
```

## 🔍 トラブルシューティング

### よくある問題

#### ファイルが表示されない
- フォルダの読み取り権限を確認
- 隠しファイル表示設定を確認

#### CSVファイルが認識されない
- ファイル拡張子が `.csv` であることを確認
- ファイルサイズが0でないことを確認

#### 処理が失敗する
- ネットワーク接続を確認 (DOI解決にインターネット必要)
- CSVファイルの形式がScopusエクスポート形式であることを確認

### 解決方法

1. **権限エラー**: システム環境設定でアプリに権限付与
2. **ネットワークエラー**: インターネット接続確認
3. **ファイル形式エラー**: Scopusエクスポート形式であることを確認

## 🎉 まとめ

新しいファイルブラウザGUIにより、DOI Tool がより使いやすくなりました：

- **直感的操作**: Finderライクなインターフェース
- **効率的選択**: CSVファイルの自動検出と複数選択
- **透明な処理**: リアルタイム進捗とログ表示
- **確実な結果**: 自動結果確認とフォルダオープン

これでScopusデータの処理が驚くほど簡単になります！🚀
